<Window x:Class="ProyectoFinalUd2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ProyectoFinalUd2"
        xmlns:final="http://miscontroles.com/final"
        mc:Ignorable="d"
        Title="Sistema de Inventario" Height="650" Width="1000"
        MinHeight="500" MinWidth="800"
        FontFamily="Segoe UI"
        Background="#1E1E1E">
    <Window.Resources>
        <Color x:Key="PrimaryDarkColor">#121212</Color>
        <Color x:Key="SecondaryDarkColor">#252526</Color>
        <Color x:Key="AccentColor">#00AEEF</Color>
        <Color x:Key="TextColor">#DCDCDC</Color>
        <Color x:Key="MutedTextColor">#808080</Color>

        <SolidColorBrush x:Key="PrimaryDarkBrush" Color="{StaticResource PrimaryDarkColor}"/>
        <SolidColorBrush x:Key="SecondaryDarkBrush" Color="{StaticResource SecondaryDarkColor}"/>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}"/>
        <SolidColorBrush x:Key="TextBrush" Color="{StaticResource TextColor}"/>
        <SolidColorBrush x:Key="MutedTextBrush" Color="{StaticResource MutedTextColor}"/>

        <Style TargetType="TextBlock" x:Key="SectionTitleStyle">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
            <Setter Property="Foreground" Value="{StaticResource AccentBrush}"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="Margin" Value="0,5,0,15"/>
            <Setter Property="Background" Value="{StaticResource SecondaryDarkBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CaretBrush" Value="{StaticResource AccentBrush}"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
        </Style>

        <Style TargetType="Button">
            <Setter Property="Height" Value="40"/>
            <Setter Property="Margin" Value="0,8"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="#3A3A3A"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder" CornerRadius="5" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#555555"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#1C1C1C"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ListBoxItem">
            <Setter Property="Background" Value="{StaticResource PrimaryDarkBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Margin" Value="0,1"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ListBoxItem">
                        <Border Name="Bd"
                                Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}"
                                SnapsToDevicePixels="true"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="true">
                                <Setter TargetName="Bd" Property="Background" Value="{StaticResource AccentBrush}"/>
                                <Setter Property="Foreground" Value="Black"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsSelected" Value="true"/>
                                    <Condition Property="Selector.IsSelectionActive" Value="false"/>
                                </MultiTrigger.Conditions>
                                <Setter TargetName="Bd" Property="Background" Value="{StaticResource AccentBrush}"/>
                                <Setter Property="Foreground" Value="Black"/>
                            </MultiTrigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter TargetName="Bd" Property="Background" Value="#333333"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="DataGridCell">
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,7"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#006990"/>
                    <Setter Property="Foreground" Value="White"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="DataGridRow">
            <Setter Property="Background" Value="{StaticResource SecondaryDarkBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="Validation.ErrorTemplate" Value="{x:Null}"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#3A3A3A"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#3A3A3A"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="10,10"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="BorderBrush" Value="#444444"/>
        </Style>
        <Style TargetType="{x:Type DataGrid}">
            <Setter Property="AlternatingRowBackground" Value="{StaticResource SecondaryDarkBrush}"/>
            <Setter Property="RowBackground" Value="{StaticResource PrimaryDarkBrush}"/>
            <Setter Property="Background" Value="{StaticResource PrimaryDarkBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
        </Style>

    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="300"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.ColumnSpan="3" Background="{StaticResource PrimaryDarkBrush}">
            <TextBlock Text="Inventario Tienda Deportes" FontSize="26" FontWeight="ExtraBold" VerticalAlignment="Center" Margin="20,0" Foreground="{StaticResource AccentBrush}"/>
        </Border>

        <Border Grid.Row="1" Grid.Column="0" Margin="10,15,5,15" Background="{StaticResource PrimaryDarkBrush}" CornerRadius="8">
            <DockPanel Margin="15">
                <TextBlock Text="ðŸ“ CATEGORÃAS" DockPanel.Dock="Top" Style="{StaticResource SectionTitleStyle}" Foreground="{StaticResource MutedTextBrush}"/>
                <ListBox Name="lstCategorias" DisplayMemberPath="Nombre" SelectedValuePath="Id" SelectionChanged="lstCategorias_SelectionChanged" FontSize="14" BorderThickness="0" Background="{StaticResource PrimaryDarkBrush}"/>
            </DockPanel>
        </Border>

        <Border Grid.Row="1" Grid.Column="1" Margin="5,15" Background="{StaticResource PrimaryDarkBrush}" CornerRadius="8">
            <DockPanel Margin="15">
                <TextBlock Text="ðŸ‘• PRODUCTOS ASOCIADOS" DockPanel.Dock="Top" Style="{StaticResource SectionTitleStyle}" Foreground="{StaticResource MutedTextBrush}"/>

                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="ðŸ” Filtrar:" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Normal" Foreground="{StaticResource TextBrush}"/>
                    <TextBox Name="txtBuscar" Width="250" TextChanged="txtBuscar_TextChanged" Background="{StaticResource SecondaryDarkBrush}"/>
                </StackPanel>

                <DataGrid Name="gridProductos" AutoGenerateColumns="False" IsReadOnly="True"
                          SelectionChanged="gridProductos_SelectionChanged" FontSize="13"
                          HeadersVisibility="Column" >
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="50"/>
                        <DataGridTextColumn Header="Producto" Binding="{Binding Nombre}" Width="*"/>
                        <DataGridTextColumn Header="Precio" Binding="{Binding Precio, StringFormat=C2}" Width="100"/>
                        <DataGridTextColumn Header="Stock" Binding="{Binding Stock}" Width="60"/>
                    </DataGrid.Columns>
                </DataGrid>
            </DockPanel>
        </Border>

        <Border Grid.Row="1" Grid.Column="2" Margin="5,15,10,15" Background="{StaticResource SecondaryDarkBrush}" CornerRadius="8" Padding="20">
            <StackPanel>
                <TextBlock Text="EDICIÃ“N TIENDA" FontSize="22" FontWeight="Bold" Margin="0,0,0,25" Foreground="{StaticResource AccentBrush}"/>

                <TextBlock Text="Nombre del Producto:" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
                <TextBox Name="txtNombre" Tag="Nombre"/>

                <TextBlock Text="Precio (â‚¬):" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
                <TextBox Name="txtPrecio" Tag="Precio" TextChanged="NumericTextBox_TextChanged"/>

                <TextBlock Text="Stock:" FontWeight="SemiBold" Foreground="{StaticResource TextBrush}"/>
                <TextBox Name="txtStock" Tag="Stock" TextChanged="NumericTextBox_TextChanged"/>

                <StackPanel Margin="0,40,0,0">
                    <Button Name="btnGuardar" Background="#27AE60" Click="btnGuardar_Click" ToolTip="Guarda el producto actual en la base de datos">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#xE74E;" FontFamily="Segoe MDL2 Assets" Margin="0,0,10,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Guardar Cambios" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <Button Name="btnEliminar" Background="#E74C3C" Click="btnEliminar_Click" ToolTip="Borra permanentemente el producto seleccionado">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#xE74D;" FontFamily="Segoe MDL2 Assets" Margin="0,0,10,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Eliminar Producto" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    
                    <final:BotonVisual x:Name="btnAccionVisual" Content="Lanzar Accion Visual" Height="45" Style="{x:Null}" />
                    <final:BotonVisual x:Name="btnAccionVisual" Content="Lanzar Accion Visual" Height="45" Style="{x:Null}" />
                    <final:VisorProgreso x:Name="miVisor" Margin="0,12,0,0" />
                    <Button Name="btnLimpiar" Background="{StaticResource AccentBrush}" Click="btnLimpiar_Click" ToolTip="Limpia el formulario para crear nuevo">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="&#xE710;" FontFamily="Segoe MDL2 Assets" Margin="0,0,10,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Nuevo / Limpiar" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>

                    <Separator Margin="0,18,0,12" Background="#444444"/>


                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>